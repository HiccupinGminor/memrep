<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
	<meta charset="UTF-8">
	<title>MemRep</title>
	<script src="bower_components/angular/angular.js"></script>
	<script src="bower_components/angular-local-storage/dist/angular-local-storage.js"></script>
	<script src="js/script.js"></script>
</head>
<body ng-cloak>
	<div ng-controller="CardListController">
		<div ng-controller="NewCardController">
			<div ng-if="cards.length==0">
				<p>Create your first card!</p>
			</div>
			<div>
				<div>
					<textarea name="" id="" cols="30" rows="10" ng-model="newCard.front" placeholder="What's the name of the concept, the phrase, or idea that you want to remember"></textarea>
				</div>
				<div>
					<textarea name="" id="" cols="30" rows="10" ng-model="newCard.back" placeholder="What details do you want to remember? What will you be quizzed on?"></textarea>
				</div>
				<button ng-click="addCard()">Create Card</button>
			</div>
		</div>
		<div ng-if="cards.length">
			<h2>Card List</h2>
			<ul>
				<li ng-repeat="card in cards">
					<span>{{card.front}} <button ng-click="deleteCard(card)">Delete</button></span>
				</li>
			</ul>
		</div>
		<div ng-controller="QuizController" ng-if="cards.length">
			<!-- <div ng-repeat="card in cards | filter: currentTime >= card.nextReview" ng-if="$index==reviewIndex"> -->
			<div ng-repeat="card in cards | filter: greaterThan(currentTime, 'nextReview')" ng-if="$index==reviewIndex">
				<div class="card">
					<p ng-hide="reviewMode">{{card.front}}</p>
					<p ng-show="reviewMode">{{card.back}}`</p>
				</div>
				<div>
					<ul class="controls">
						<li ng-hide="reviewMode"><button ng-click="flipCard(card)">Flip</button></li>
						<li ng-show="reviewMode"><button ng-click="markCorrect(card)">Right</button></li>
						<li ng-show="reviewMode"><button ng-click="markWrong(card)">Wrong</button></li>
						<li><button ng-click="skipCard()">Skip</button></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</body>
</html>